---
import ExperienceCard from './ExperienceCard.astro';// Importa tipos

import type { Experience } from '@/types';

const experienceFiles: Record<string, { frontmatter: Experience }> = import.meta.glob('../content/experiences/*.mdx', { eager: true });
const experiences = Object.values(experienceFiles).map((module) => module.frontmatter);

---

<section id="experiencia" class="py-20 bg-dark-900">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="animate-on-scroll">
      <div class="text-center mb-16">
        <h2 class="text-3xl md:text-4xl font-bold text-primary-400 mb-4">
          Mi Experiencia
        </h2>
        <div class="w-24 h-1 bg-primary-500 mx-auto mb-6"></div>
        <p class="text-gray-400 max-w-2xl mx-auto">
          Un recorrido por mi trayectoria profesional y los proyectos que han marcado mi crecimiento como desarrollador.
        </p>
      </div>

      <div class="space-y-8">
        {experiences.map((experience) => (
          <ExperienceCard experience={experience} />
        ))}
      </div>
    </div>
  </div>
</section>
